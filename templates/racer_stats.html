{% extends "layout.html" %}

{% block title %}
  Stats for {{ racer[0][0] }}
{% endblock %}

{% block main %}
  <div class="row mt-2">
    <div class="col-1">
      <form id="back" action="/" method="get"></form>
      <button type="submit" form="back" class="back_button p-1">Back</button>
    </div>
    <div class="col-4 text-center">
      <img src="static/img/avatars/{{ racer[0][1] }}" width="150" alt="Avatar for {{ racer[0][0] }}">
      <p class="text-large">{{ racer[0][0] }}</p>
    </div>
    <div class="col-7 text-left">
      <p class="text-medium text-left">Group: {{ group }}</p>
      <p class="text-medium text-left">Races: {{ races }}</p>
      <p class="text-medium text-left">Victories: {{ places[0] }}</p>
    </div>
  </div>
  <hr class="whitesmoke">
  <div class="row">
    <div class="col-6 mt-5 text-center">
      <p class="text-medium text-center mb-4">Placements:</p>
      <p class="text-small">1st place: {{ places[0] }} ({{ percentages[0] }} %)<br>
        2nd place: {{ places[1] }} ({{ percentages[1] }} %)<br>
        3rd place: {{ places[2] }} ({{ percentages[2] }} %)<br>
        4th place: {{ places[3] }} ({{ percentages[3] }} %)<br>
        5th place: {{ places[4] }} ({{ percentages[4] }} %)<br>
        6th place: {{ places[5] }} ({{ percentages[5] }} %)<br>
        7th place: {{ places[6] }} ({{ percentages[6] }} %)<br>
        8th place: {{ places[7] }} ({{ percentages[7] }} %)<br>
        9th place: {{ places[8] }} ({{ percentages[8] }} %)<br>
        10th place: {{ places[9] }} ({{ percentages[9] }} %)<br>
        11th place: {{ places[10] }} ({{ percentages[10] }} %)<br>
        12th place: {{ places[11] }} ({{ percentages[11] }} %)
      </p>
    </div>
    <div class="col-6 mt-5 text-center">
      <p class="text-medium text-center mb-4">Group Placements:</p>
      <p class="text-small">1st place: {{ group_places[0] }} ({{ group_percentages[0] }} %)</p>
        <p class="text-small"> 2nd place: {{ group_places[1] }} ({{ group_percentages[1] }} %)</p>
        {% if count > 2 %}
          <p class="text-small">3rd place: {{ group_places[2] }} ({{ group_percentages[2] }} %)</p>
        {% endif %}
        {% if count > 3 %}
          <p class="text-small">4th place: {{ group_places[3] }} ({{ group_percentages[3] }} %)</p>
        {% endif %}
    </div>
  </div>
  <hr class="whitesmoke">
  <div class="text-center">
    <p class="text-medium">Best course(s):</p>
    {% if best[0] == 0 %}
      <div class="text-center">
        <p class="text-medium">No best courses recorded yet. Get at least 2 wins in any course.</p>
    {% else %}
      <div style="display: flex; flex-wrap: wrap;">
      {% for course in best %}
      <div class="m-3">
        <img src="static/img/courses/bg/courses_{{ course[0] }}_bg.png" width="80%" alt="Image for {{ course[1] }}">
        <p class="text-medium">{{ course[1] }}</p>
        <p class="text-medium">{{ course[2] }}</p>
      </div>
      {% endfor %}
    {% endif %}
  </div>
{% endblock %}